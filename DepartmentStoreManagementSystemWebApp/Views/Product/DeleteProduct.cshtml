@using DepartmentStoreManagementSystemWebApp.Models
@model DepartmentStoreManagementSystemWebApp.Models.AddProduct
@{
    ViewBag.Title = "DeleteProduct";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <style>
        .container .table {
            margin-top: 7rem;
            !important;
        }

        .container > .table > thead {
            background: #ff8b1e;
            color: white;
            text-align: center;
        }

        .container > .table > tbody {
            text-align: center;
        }
     input.btn-block[type="submit"] {
        width: 50%;
        margin-left: 353px;
    }

    
    </style>

</head>
<body>
    <h1 class="text-center">Delete Product</h1>
    <div class="container clearfix">
        <form>
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">Brand</label>
                <div class="col-sm-10">
                    
                    @Html.DropDownListFor(x => x.Brand, new SelectList(ViewBag.list, "Name", "Name"), "--Select--", new { @id = "brand", @class = "form-control form-control-md" })
                </div>
            </div>
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">Product_name</label>
                <div class="col-sm-10">
                    
                    <select id="name" class="form-control form-control-md" name="@Html.NameFor(c=>c.Name)"></select>
                </div>
            </div>
            <div class="form-group row">
                <label for="inputEmail3" class="col-sm-2 col-form-label">Weight</label>
                <div class="col-sm-10">
                    
                    @Html.TextAreaFor(x => x.Weight, new { @id = "weight", @class = "form-control", placeholder = "Weight" })
                </div>
            </div>
            
            <input type="submit" value="Delete" class="btn btn-primary btn-block" />
        </form>
        @if (ViewBag.message != null)
        {
            <h3 class="text-center">
                @ViewBag.message
            </h3>
        }
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th scope="col">Code</th>
                    <th scope="col">Name</th>
                    <th scope="col">Purchase Price</th>
                    <th scope="col">Sale Price</th>
                    <th scope="col">Vat</th>
                    <th scope="col">Discount</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Weight</th>
                    <th scope="col">Supplier</th>
                    <th scope="col">Brand</th>
                    <th scope="col">Recive By</th>
                </tr>
            </thead>
            <tbody>
            @foreach (AddProduct add in ViewBag.newList)
            {
                <tr>
                    <td>@add.Code</td>
                    <td>@add.Name</td>
                    <td>@add.PurchaseProduct</td>
                    <td>@add.SaleProduct</td>
                    
                    <td>@add.Vat</td>
                    <td>@add.Discount</td>
                    <td>@add.Quantity</td>
                    <td>@add.Weight</td>
                    <td>@add.Supplier</td>
                    <td>@add.Brand</td>
                    <td>@add.ReceivedBy</td>
                </tr>
            }

            </tbody>
        </table>
    </div>

<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script>

    $(document).ready(function () {
        $("#brand").change(function () {
            var selectdepartmentId = $("#brand").val();


            var json = { code: selectdepartmentId };
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetAllName", "Product")',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(json),
                success: function (data) {
                    $("#name").empty();
                    $("#name").append('<option>Select</option>')
                    $.each(data, function (key, value) {

                        $("#name").append('<option value=' + value.Name + '>' + value.Name + '</option>');
                    });
                }
            });
        });
    });
    $(document).ready(function () {
        $("#name").change(function () {
            var selectdepartmentId = $("#name").val();


            var json = { num: selectdepartmentId };
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetAllWeight", "Product")',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(json),
                success: function (data) {
                    $.each(data, function (key, value) {

                        $("#weight").val(value.Weight);

                    });
                }
            });
        });
    });
</script>

</body>
</html>


















